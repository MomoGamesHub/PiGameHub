<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>PiGameHub Web3 Dice</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Tahoma}
body{min-height:100vh;background:radial-gradient(circle at top,#0f2a30,#000);color:#eafff9;text-align:center;}
header{padding:18px;}
header h1{color:#3fffe0;font-size:2.2rem;margin-bottom:6px;}
.login-box{margin-top:12px;}
.login-box input, .login-box button{padding:10px 14px;border:none;border-radius:22px;margin:5px;}
.login-box button{background:#0b2f34;color:#3fffe0;cursor:pointer;}
#games{display:none;margin-top:30px;}
.grid{display:grid;grid-template-columns:repeat(3,130px);gap:20px;justify-content:center;}
.card{height:130px;border-radius:26px;background:linear-gradient(145deg,#061b20,#000);display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;transition:.3s;}
.card i{font-size:3rem;color:#3fffe0}
.card:hover{transform:scale(1.08)}
.card.locked{opacity:.35;filter:grayscale(1);cursor:not-allowed;}
.card.locked:hover{transform:none}
#gameUI{display:none;padding:15px;}
.hud{display:flex;justify-content:space-between;align-items:center;background:#031417;padding:12px 16px;border-radius:20px;}
.game-area{margin-top:25px;padding:30px;border-radius:25px;background:linear-gradient(145deg,#021012,#000);}
.players{display:flex;justify-content:center;gap:12px;margin:15px 0;}
.player{width:70px;height:70px;border-radius:50%;background:#052027;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:.7rem;}
.player.active{box-shadow:0 0 15px #3fffe0;}
.btn{padding:10px 18px;border:none;border-radius:18px;background:#3fffe0;color:#000;font-weight:bold;cursor:pointer;margin:8px;}
#diceBox{font-size:4rem;margin:20px;}
.roll{animation:shake .6s}
@keyframes shake{0%{transform:rotate(0)}25%{transform:rotate(20deg)}50%{transform:rotate(-20deg)}75%{transform:rotate(10deg)}100%{transform:rotate(0)}}
.toast{position:fixed;bottom:25px;left:50%;transform:translateX(-50%);background:#0b2f34;padding:12px 22px;border-radius:18px;color:#3fffe0;display:none;white-space:pre-wrap;}
</style>
</head>
<body>

<header>
<h1>ğŸ® PiGameHub Web3</h1>
<div class="login-box">
<input type="text" id="userInput" placeholder="Ø±Ù‚Ù… Ù…ÙˆØ¨Ø§ÙŠÙ„ / Pi / Gmail">
<button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
</div>
</header>

<section id="games">
<div class="grid">
  <div class="card" onclick="openLobby('Dice')"><i class="fa-solid fa-dice-five"></i><span>Dice</span></div>
  <div class="card locked" onclick="toast('ğŸš§ Domino Ù‚Ø±ÙŠØ¨Ù‹Ø§')"><i class="fa-solid fa-dice"></i><span>Domino</span></div>
  <div class="card locked" onclick="toast('ğŸš§ Cards Ù‚Ø±ÙŠØ¨Ù‹Ø§')"><i class="fa-solid fa-cards-playing"></i><span>Cards</span></div>
  <div class="card locked" onclick="toast('ğŸš§ Chess Ù‚Ø±ÙŠØ¨Ù‹Ø§')"><i class="fa-solid fa-chess-knight"></i><span>Chess</span></div>
  <div class="card locked" onclick="toast('ğŸš§ Ludo Ù‚Ø±ÙŠØ¨Ù‹Ø§')"><i class="fa-solid fa-gamepad"></i><span>Ludo</span></div>
  <div class="card locked" onclick="toast('ğŸš§ UNO Ù‚Ø±ÙŠØ¨Ù‹Ø§')"><i class="fa-solid fa-layer-group"></i><span>UNO</span></div>
</div>
</section>

<div id="gameUI">
<div class="hud">
<span id="hudGame"></span>
<span>â­ <b id="points">0</b></span>
<button class="btn" onclick="exitGame()">Exit</button>
</div>

<div class="game-area">
<h3>ğŸ² Dice Game</h3>
<div class="players" id="dicePlayers"></div>
<div id="diceBox">ğŸ²</div>
<button class="btn" onclick="rollDice()">Roll Dice</button>
<button class="btn" onclick="resetRound()">ğŸ” New Round</button>
<h4 id="diceResult"></h4>
</div>
</div>

<div class="toast" id="toast"></div>

<script>
let loggedIn=false;
let points=0;
let dicePlayers=[];
let turn=0;
let currentRound=1;
const maxRounds=3;
let currentGame="";

/* ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
function login(){
let user=document.getElementById("userInput").value.trim();
if(!user){toast("âŒ Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø£Ùˆ Ù…Ø­ÙØ¸Ø©"); return;}
loggedIn=true;
document.querySelector(".login-box").style.display="none";
document.getElementById("games").style.display="block";
toast(`âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: ${user}`);
updatePoints();
}

/* ÙØªØ­ Ù„Ø¹Ø¨Ø© */
function openLobby(game){
currentGame=game;
document.getElementById("games").style.display="none";
document.getElementById("gameUI").style.display="block";
document.getElementById("hudGame").innerText=game;
if(game==='Dice') initDice();
}

/* ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø±Ø¯ */
function initDice(){
dicePlayers=[
{name:"You",roll:0,total:0},
{name:"AI 1",roll:0,total:0},
{name:"AI 2",roll:0,total:0},
{name:"AI 3",roll:0,total:0}
];
turn=0; currentRound=1;
document.getElementById("diceResult").innerText="";
document.getElementById("diceBox").innerText="ğŸ²";
renderDicePlayers();
}

/* Ø±Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† */
function renderDicePlayers(){
let box=document.getElementById("dicePlayers");
box.innerHTML="";
dicePlayers.forEach((p,i)=>{
box.innerHTML+=`<div class="player ${i===turn?'active':''}">${p.name}<b>${p.roll||"-"}</b></div>`;
});
}

/* Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯ */
function rollDice(){
if(turn>=dicePlayers.length) return;
let dice=document.getElementById("diceBox");
dice.classList.add("roll");
setTimeout(()=>{
dice.classList.remove("roll");
let v=Math.floor(Math.random()*6)+1;
dice.innerText=v;
dicePlayers[turn].roll=v;
turn++;
renderDicePlayers();
if(turn<dicePlayers.length){setTimeout(rollDice,800);}
else{endRound();}
},600);
}

/* Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¬ÙˆÙ„Ø© */
function endRound(){
dicePlayers.forEach(p=>p.total+=p.roll);
let winner=dicePlayers.reduce((a,b)=>a.total>b.total?a:b);
points+=10; updatePoints();
document.getElementById("diceResult").innerText=
`ğŸ‰ Ø§Ù„Ø¬ÙˆÙ„Ø© ${currentRound} Ø§Ù†ØªÙ‡Øª. Ø§Ù„ÙØ§Ø¦Ø² Ø§Ù„Ø­Ø§Ù„ÙŠ: ${winner.name}`;
if(currentRound<maxRounds){
currentRound++; turn=0; dicePlayers.forEach(p=>p.roll=0);
setTimeout(()=>{document.getElementById("diceBox").innerText="ğŸ²"; renderDicePlayers(); toast(`ğŸ® Ø§Ù„Ø¬ÙˆÙ„Ø© ${currentRound} Ø¨Ø¯Ø£Øª`);},1200);
}else{
document.getElementById("diceResult").innerText+=`\nğŸ† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù†ØªÙ‡Øª! Ø§Ù„ÙØ§Ø¦Ø² Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: ${winner.name} (+${points} Ù†Ù‚Ø§Ø·)`;
}
}

/* Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© */
function resetRound(){initDice();}

/* Ø§Ù„Ø®Ø±ÙˆØ¬ */
function exitGame(){
document.getElementById("gameUI").style.display="none";
document.getElementById("games").style.display="block";
}

/* ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø· */
function updatePoints(){document.getElementById("points").innerText=points;}

/* Toast */
function toast(msg){
let t=document.getElementById("toast");
t.innerText=msg;
t.style.display="block";
setTimeout(()=>t.style.display="none",2000);
}
</script>
</body>
</html>
