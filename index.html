<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PiGamesHub | Pro Edition</title>
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <style>
        /* ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† ØµÙˆØ±Ùƒ */
        :root {
            --pi-blue: #3b82f6;
            --pi-purple: #8b5cf6;
            --pi-gold: #f59e0b;
            --bg-light: #f8fafc;
            --card-bg: #ffffff;
        }

        body { 
            margin: 0; padding: 0; background-color: var(--bg-light); 
            font-family: 'Segoe UI', Roboto, sans-serif; color: #1e293b;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        header {
            background: #fff; padding: 15px 20px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .user-profile { display: flex; align-items: center; gap: 10px; }
        .avatar { width: 40px; height: 40px; background: #e2e8f0; border-radius: 50%; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ØµÙŠØ¯ (Ù…Ø«Ù„ Ø§Ù„ØµÙˆØ±Ø©) */
        .stats-container {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 20px;
        }
        .stat-card {
            padding: 20px; border-radius: 16px; color: white; text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .blue-card { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .gold-card { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .stat-value { font-size: 1.5rem; font-weight: bold; margin-bottom: 5px; }
        .stat-label { font-size: 0.8rem; opacity: 0.9; }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (ÙˆØ±Ù‚ØŒ Ù†Ø±Ø¯ØŒ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©) */
        .tabs {
            display: flex; justify-content: space-around; padding: 10px 20px;
            background: #fff; border-bottom: 1px solid #e2e8f0;
        }
        .tab-item { padding: 8px 15px; font-size: 0.9rem; color: #64748b; cursor: pointer; }
        .active-tab { color: #1e293b; font-weight: bold; border-bottom: 2px solid var(--pi-purple); }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ */
        .game-list { padding: 20px; }
        .game-card {
            background: #fff; border-radius: 20px; padding: 15px; margin-bottom: 15px;
            display: flex; align-items: center; gap: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04); border: 1px solid #f1f5f9;
        }
        .game-icon { width: 60px; height: 60px; border-radius: 12px; object-fit: cover; }
        .game-info { flex: 1; }
        .game-title { font-weight: bold; font-size: 1.1rem; }
        .game-desc { font-size: 0.8rem; color: #64748b; margin-top: 4px; }
        .level-badge { background: #fef3c7; color: #d97706; padding: 4px 8px; border-radius: 8px; font-size: 0.7rem; }

        /* Ø²Ø± Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø³Ø­Ø±ÙŠ Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠØ© */
        .action-banner {
            margin: 20px; padding: 20px; border-radius: 20px;
            background: linear-gradient(135deg, #a855f7, #7c3aed);
            color: white; text-align: center; cursor: pointer;
        }

        #game-view { display: none; position: fixed; inset: 0; background: #064e3b; z-index: 100; }
    </style>
</head>
<body>

<header>
    <div class="user-profile">
        <div class="avatar"></div>
        <div>
            <div id="username" style="font-weight: bold; font-size: 0.9rem;">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
            <div style="font-size: 0.7rem; color: #64748b;">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</div>
        </div>
    </div>
    <div style="color:var(--pi-purple); font-weight: bold;">PiGameHub</div>
</header>

<div id="lobby">
    <div class="stats-container">
        <div class="stat-card blue-card">
            <div class="stat-value" id="pi-balance">0.00</div>
            <div class="stat-label">Pi Balance</div>
        </div>
        <div class="stat-card gold-card">
            <div class="stat-value">2450</div>
            <div class="stat-label">Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</div>
        </div>
    </div>

    <div class="action-banner" id="pay-btn" onclick="transferPi()">
        <h3>ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h3>
        <p>Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø¯ÙØ¹ 0.1 Pi ÙˆØ§Ø¹ØªÙ…Ø§Ø¯ ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø±Ø³Ù…ÙŠØ§Ù‹</p>
    </div>

    <div class="tabs">
        <div class="tab-item active-tab">ÙˆØ±Ù‚ â™ ï¸</div>
        <div class="tab-item">Ù†Ø±Ø¯ ğŸ²</div>
        <div class="tab-item">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ğŸ‘‘</div>
    </div>

    <div class="game-list">
        <div class="game-card" onclick="startDomino()">
            <img src="1000106355.png" class="game-icon" onerror="this.src='https://via.placeholder.com/60/8b5cf6/ffffff?text=D'">
            <div class="game-info">
                <div class="game-title">Ø¯ÙˆÙ…ÙŠÙ†Ùˆ Ø§Ù„Ù…Ø­ØªØ±ÙÙŠÙ†</div>
                <div class="game-desc">Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ© Ø¨Ø®ØµÙ… Ø°ÙƒÙŠ</div>
            </div>
            <div class="level-badge">Ù…ØªÙˆØ³Ø·</div>
        </div>
        
        <div class="game-card">
            <img src="1000106337.png" class="game-icon" onerror="this.src='https://via.placeholder.com/60/f59e0b/ffffff?text=C'">
            <div class="game-info">
                <div class="game-title">Ø´Ø·Ø±Ù†Ø¬ Ø§Ù„Ù…Ù„ÙˆÙƒ</div>
                <div class="game-desc">Ø§Ø®ØªØ¨Ø± Ø°ÙƒØ§Ø¡Ùƒ Ø¶Ø¯ Ø£Ù‚ÙˆÙ‰ ØªØ­Ø¯ÙŠ</div>
            </div>
            <div class="level-badge">ØµØ¹Ø¨</div>
        </div>
    </div>
</div>

<div id="game-view">
    <button onclick="location.reload()" style="margin:20px; padding:10px 20px; border-radius:10px; border:none; background:white; color:#064e3b; font-weight:bold;">ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <div id="board" style="display:flex; justify-content:center; align-items:center; height:70vh; color:white;">Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ø§Ù„Ù„Ø¹Ø¨Ø©...</div>
</div>

<script>
    const Pi = window.Pi;
    Pi.init({ version: "2.0", sandbox: true });

    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙÙˆØ± ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
    async function autoLogin() {
        try {
            const scopes = ['username', 'payments'];
            const auth = await Pi.authenticate(scopes, (payment) => {});
            document.getElementById('username').innerText = "Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ " + auth.user.username;
            document.getElementById('pi-balance').innerText = "125.56"; // Ø±ØµÙŠØ¯ Ø§Ø³ØªØ¹Ø±Ø§Ø¶ÙŠ Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØµÙˆØ±Ø©
        } catch (e) { console.error(e); }
    }
    autoLogin();

    async function transferPi() {
        try {
            const payment = await Pi.createPayment({
                amount: 0.1,
                memo: "ØªÙØ¹ÙŠÙ„ ØªØ·Ø¨ÙŠÙ‚ PiGamesHub",
                metadata: { userId: "pioneer_user_1" }
            }, {
                onReadyForServerApproval: (pId) => console.log("Approved"),
                onReadyForServerCompletion: (pId, txid) => {
                    alert("ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©! Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠØ© Ø³ØªØµØ¨Ø­ Completed Ø§Ù„Ø¢Ù†.");
                },
                onCancel: (pId) => {},
                onError: (e) => alert("Ø®Ø·Ø£: ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹")
            });
        } catch (err) { alert(err.message); }
    }

    function startDomino() {
        document.getElementById('lobby').style.display = 'none';
        document.getElementById('game-view').style.display = 'block';
    }
</script>

</body>
</html>
