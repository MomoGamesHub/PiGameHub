<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pi Game's Hub | Domino AI</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        :root { --pi-color: #ffa500; --bg-dark: #0f0a1e; --card-bg: #1e1b4b; --danger: #ef4444; }
        
        body { font-family: 'Cairo', sans-serif; background: var(--bg-dark); color: white; margin: 0; overflow-x: hidden; }
        
        /* Navbar */
        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 12px 5%; background: rgba(15,10,30,0.9); border-bottom: 1px solid rgba(255,165,0,0.2); position: sticky; top:0; z-index:100; }
        .nav-btn { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: white; padding: 8px 15px; border-radius: 20px; cursor: pointer; transition: 0.3s; }
        .nav-btn:hover { background: var(--pi-color); color: #000; }

        /* Hero */
        .hero { text-align: center; padding: 25px; }
        .pi-logo { width: 60px; height: 60px; background: var(--pi-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-size: 1.5rem; color: #000; box-shadow: 0 0 20px var(--pi-color); }

        /* Grid */
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        .game-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
        .game-card { background: var(--card-bg); border-radius: 20px; padding: 20px; text-align: center; border: 1px solid rgba(255,255,255,0.05); cursor: pointer; transition: 0.3s; }
        .game-card:hover { border-color: var(--pi-color); transform: translateY(-5px); }

        /* Arena */
        #gameArena { position: fixed; inset: 0; background: #064e3b; z-index: 2000; display: none; flex-direction: column; align-items: center; padding: 20px; }
        .domino-table { flex: 1; width: 100%; max-width: 600px; background: #065f46; border: 8px solid #047857; border-radius: 40px; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; overflow: hidden; }
        .hand-panel { width: 100%; max-width: 600px; padding: 15px; background: rgba(0,0,0,0.4); border-radius: 20px; margin-top: 15px; display: flex; justify-content: center; gap: 8px; }
        
        .domino-tile { background: white; color: black; padding: 8px 12px; border-radius: 5px; font-weight: bold; font-size: 1.1rem; cursor: pointer; border: 2px solid #ddd; transition: 0.2s; }
        .domino-tile.ai { background: #e2e8f0; color: #1e293b; border-color: #94a3b8; cursor: default; }

        /* Modals */
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: none; align-items: center; justify-content: center; z-index: 3000; }
        .modal-content { background: var(--card-bg); width: 85%; max-width: 400px; padding: 25px; border-radius: 25px; border: 1px solid var(--pi-color); }
    </style>
</head>
<body>

    <nav class="navbar">
        <div style="display:flex; gap:10px;">
            <button class="nav-btn" onclick="openUI('chat')">ğŸ’¬ Ø´Ø§Øª</button>
            <button class="nav-btn" onclick="openUI('shop')">ğŸ›’ Ø§Ù„Ù…ØªØ¬Ø±</button>
        </div>
        <div style="color:var(--pi-color); font-weight:bold;">ğŸ’° <span id="userBalance">1400</span> Ï€</div>
    </nav>

    <section class="hero">
        <div class="pi-logo">Ï€</div>
        <h2>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ø§Ù„Ø±ÙˆØ§Ø¯ ÙÙŠ Pi Game's Hub</h2>
        <p>Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ø£Ù„Ø¹Ø§Ø¨ ÙˆÙŠØ¨ 3</p>
    </section>

    <div class="container">
        <div class="game-grid">
            <div class="game-card" onclick="startLoading(100)">
                <div style="font-size: 3rem;">ğŸ€„</div>
                <h3>Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ (Domino)</h3>
                <p>Ø§Ù„Ø±Ù‡Ø§Ù†: 100 Ï€</p>
            </div>
        </div>
    </div>

    <div id="gameArena">
        <div style="width: 100%; max-width: 600px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <button class="nav-btn" style="font-size: 0.8rem;" onclick="showRules()">ğŸ“œ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†</button>
            <div id="aiThinking" style="visibility: hidden; color: var(--pi-color); font-size: 0.9rem;">Ø§Ù„Ø®ØµÙ… ÙŠÙÙƒØ±... â³</div>
            <button class="nav-btn" style="background:var(--danger);" onclick="exitGame()">Ø§Ù†Ø³Ø­Ø§Ø¨</button>
        </div>

        <div class="domino-table">
            <div style="position: absolute; top: 20px; opacity: 0.5;">Ø§Ù„Ø®ØµÙ…: Ø¨ÙˆØª_Ø¨Ø§ÙŠ ğŸ¤–</div>
            <div id="tableTiles" style="display:flex; flex-wrap: wrap; justify-content: center; gap: 5px; padding: 20px;">
                </div>
            <div id="gameStatus" style="position: absolute; bottom: 20px; color: var(--pi-color); font-weight: bold;">Ø¯ÙˆØ±Ùƒ Ø§Ù„Ø¢Ù†.. Ø§Ù„Ø¹Ø¨ Ù‚Ø·Ø¹Ø©</div>
        </div>

        <div class="hand-panel" id="playerHand">
            <div class="domino-tile" onclick="playTile(this, '3|4')">3|4</div>
            <div class="domino-tile" onclick="playTile(this, '4|6')">4|6</div>
            <div class="domino-tile" onclick="playTile(this, '6|6')">6|6</div>
            <div class="domino-tile" onclick="playTile(this, '1|3')">1|3</div>
        </div>
    </div>

    <div class="modal" id="rulesModal">
        <div class="modal-content">
            <h3 style="color:var(--pi-color); text-align:center;">ğŸ“œ Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ</h3>
            <p style="font-size: 0.9rem; line-height: 1.6;">1. Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…Ø¹ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§ÙˆÙ„Ø©.<br>2. Ø§Ù„ÙØ§Ø¦Ø² Ù‡Ùˆ Ù…Ù† ÙŠÙ†Ù‡ÙŠ Ù‚Ø·Ø¹Ù‡ Ø£ÙˆÙ„Ø§Ù‹.<br>3. Ø¥Ø°Ø§ Ø£ØºÙ„Ù‚Øª Ø§Ù„Ù„Ø¹Ø¨Ø©ØŒ ÙŠÙÙˆØ² ØµØ§Ø­Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø£Ù‚Ù„.</p>
            <button class="nav-btn" style="width:100%;" onclick="closeRules()">ÙÙ‡Ù…Øª</button>
        </div>
    </div>

    <script>
        let balance = 1400;
        const aiPieces = ['2|2', '4|5', '1|1', '0|6']; // Ù‚Ø·Ø¹ Ø§Ù„Ø¨ÙˆØª

        function startLoading(bet) {
            if(balance < bet) return alert("Ø±ØµÙŠØ¯Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ");
            balance -= bet;
            document.getElementById('userBalance').innerText = balance;
            document.getElementById('gameArena').style.display = 'flex';
            document.getElementById('tableTiles').innerHTML = '<div class="domino-tile ai">5|5</div>'; // Ù‚Ø·Ø¹Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        }

        function playTile(element, value) {
            // Ø¥Ø¶Ø§ÙØ© Ù‚Ø·Ø¹Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù„Ù„Ø·Ø§ÙˆÙ„Ø©
            const table = document.getElementById('tableTiles');
            table.innerHTML += `<div class="domino-tile">${value}</div>`;
            element.style.display = 'none';
            
            document.getElementById('gameStatus').innerText = "Ø§Ù†ØªØ¸Ø± Ø±Ø¯ Ø§Ù„Ø®ØµÙ…...";
            document.getElementById('aiThinking').style.visibility = 'visible';
            document.getElementById('playerHand').style.pointerEvents = 'none'; // Ù…Ù†Ø¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù…Ù† Ø§Ù„Ù„Ø¹Ø¨ Ù…Ø±ØªÙŠÙ†

            // Ø±Ø¯ ÙØ¹Ù„ Ø§Ù„Ø¨ÙˆØª Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ©
            setTimeout(() => {
                if(aiPieces.length > 0) {
                    const aiMove = aiPieces.shift();
                    table.innerHTML += `<div class="domino-tile ai">${aiMove}</div>`;
                    document.getElementById('aiThinking').style.visibility = 'hidden';
                    document.getElementById('gameStatus').innerText = "Ø¯ÙˆØ±Ùƒ Ø§Ù„Ø¢Ù†..";
                    document.getElementById('playerHand').style.pointerEvents = 'auto';
                }
            }, 2000);
        }

        function showRules() { document.getElementById('rulesModal').style.display = 'flex'; }
        function closeRules() { document.getElementById('rulesModal').style.display = 'none'; }
        function exitGame() { if(confirm("Ø§Ù†Ø³Ø­Ø§Ø¨ØŸ")) location.reload(); }
        function openUI(t) { alert("Ø³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ " + t + " Ù‚Ø±ÙŠØ¨Ø§Ù‹ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø¨ÙƒØ©."); }
    </script>
</body>
</html>
