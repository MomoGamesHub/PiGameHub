<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>PiGamesHub</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Tahoma}
body{
min-height:100vh;
background:radial-gradient(circle at top,#0f2a30,#000);
color:#eafff9;
text-align:center;
}
header{padding:20px}
header h1{color:#3fffe0;font-size:2.6rem}
header p{opacity:.85;margin-top:6px}

.login-box{margin-top:20px}
.login-box input{
padding:10px 14px;border-radius:20px;border:none;width:200px
}
.login-box button{
padding:10px 22px;border:none;border-radius:20px;
background:#0b2f34;color:#3fffe0;cursor:pointer;
box-shadow:0 0 15px rgba(63,255,224,.4)
}

/* PLATFORM */
#platform{display:none;margin-top:40px}
.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
gap:22px;
max-width:600px;
margin:auto;
}

.card{
height:130px;border-radius:26px;
background:linear-gradient(145deg,#061b20,#000);
display:flex;flex-direction:column;
justify-content:center;align-items:center;
cursor:pointer;transition:.3s;
}
.card i{
font-size:3rem;color:#3fffe0;margin-bottom:8px;
animation:float 2s infinite;
}
.card span{font-size:.9rem}
.card:hover{transform:scale(1.08);box-shadow:0 0 25px #3fffe0}
.locked{opacity:.4;filter:grayscale(1)}

@keyframes float{
0%{transform:translateY(0)}
50%{transform:translateY(-8px)}
100%{transform:translateY(0)}
}

/* GAME UI */
#gameUI,#leaderboardUI{display:none;padding:15px}

.hud{
display:flex;justify-content:space-between;
align-items:center;
background:#031417;
padding:12px 18px;
border-radius:22px;
box-shadow:0 0 20px rgba(63,255,224,.4);
}

.game-area{
margin-top:25px;
padding:25px;
border-radius:25px;
background:linear-gradient(145deg,#021012,#000);
}

/* PLAYERS */
.players{display:flex;justify-content:center;gap:12px;margin:15px 0}
.player{
width:72px;height:72px;border-radius:50%;
background:#052027;
display:flex;flex-direction:column;
justify-content:center;align-items:center;
font-size:.75rem;
box-shadow:0 0 10px rgba(63,255,224,.4);
}
.player i{font-size:1.5rem;color:#3fffe0}
.player.win{box-shadow:0 0 22px gold;background:#2a2500}

/* BUTTON */
.btn{
padding:10px 20px;border:none;
border-radius:18px;
background:#3fffe0;color:#000;
font-weight:bold;cursor:pointer;margin-top:10px;
}

#diceBox{font-size:4rem;margin:15px;transition:transform .6s}

/* LEADERBOARD */
.table{
margin-top:20px;
}
.table div{
display:flex;justify-content:space-between;
padding:10px 14px;
border-bottom:1px solid #123;
}

/* TOAST */
.toast{
position:fixed;bottom:25px;
left:50%;transform:translateX(-50%);
background:#0b2f34;
padding:12px 22px;
border-radius:18px;
color:#3fffe0;
display:none;z-index:50;
}
</style>
</head>

<body>

<header>
<h1>üéÆ PiGamesHub</h1>
<p>Web3 Gaming Platform</p>

<div class="login-box">
<input id="user" placeholder="Mobile / Pi / Gmail">
<button onclick="login()">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ</button>
</div>
</header>

<section id="platform">
<div class="grid">
<div class="card" onclick="startDice()">
<i class="fa-solid fa-dice-five"></i><span>Dice</span></div>

<div class="card" onclick="openLeaderboard()">
<i class="fa-solid fa-trophy"></i><span>Leaderboard</span></div>

<div class="card locked"><i class="fa-solid fa-dice"></i><span>Domino</span></div>
<div class="card locked"><i class="fa-solid fa-chess-knight"></i><span>Chess</span></div>
<div class="card locked"><i class="fa-solid fa-gamepad"></i><span>Ludo</span></div>
<div class="card locked"><i class="fa-solid fa-layer-group"></i><span>UNO</span></div>
</div>
</section>

<!-- GAME -->
<div id="gameUI">
<div class="hud">
<span>üé≤ Dice</span>
<span>‚≠ê <b id="points">0</b></span>
<button class="btn" onclick="exitGame()">Exit</button>
</div>

<div class="game-area">
<h3>Round <span id="round">1</span></h3>
<div class="players" id="dicePlayers"></div>
<div id="diceBox">üé≤</div>
<button class="btn" onclick="rollDice()" id="rollBtn">Roll Dice</button>
<button class="btn" onclick="newRound()" id="newRoundBtn" style="display:none">New Round</button>
<h4 id="diceResult"></h4>
</div>
</div>

<!-- LEADERBOARD -->
<div id="leaderboardUI">
<div class="hud">
<span>üèÜ Leaderboard</span>
<button class="btn" onclick="closeLeaderboard()">Back</button>
</div>
<div class="game-area table" id="leaderboardList"></div>
</div>

<div class="toast" id="toast"></div>

<script>
let username="";
let points=0;
let leaderboard=JSON.parse(localStorage.getItem("leaderboard"))||[];
let dicePlayers=[],turn=0,round=1,roundFinished=false;

/* LOGIN */
function login(){
username=document.getElementById("user").value.trim();
if(!username){toast("‚ùå ÿ£ÿØÿÆŸÑ ÿ®ŸäÿßŸÜÿßÿ™");return;}
document.querySelector(".login-box").style.display="none";
document.getElementById("platform").style.display="block";
toast("‚úÖ ŸÖÿ±ÿ≠ÿ®ÿß "+username);
updatePoints();
}

/* DICE */
function startDice(){
document.getElementById("platform").style.display="none";
document.getElementById("gameUI").style.display="block";
initRound();
}

function initRound(){
dicePlayers=[
{name:username,icon:"fa-user",roll:0},
{name:"AI 1",icon:"fa-robot",roll:0},
{name:"AI 2",icon:"fa-robot",roll:0},
{name:"AI 3",icon:"fa-robot",roll:0}
];
turn=0;roundFinished=false;
document.getElementById("diceResult").innerText="";
document.getElementById("rollBtn").style.display="inline-block";
document.getElementById("newRoundBtn").style.display="none";
document.getElementById("round").innerText=round;
renderPlayers();
}

function renderPlayers(win=null){
const box=document.getElementById("dicePlayers");
box.innerHTML="";
dicePlayers.forEach((p,i)=>{
box.innerHTML+=`
<div class="player ${win===i?'win':''}">
<i class="fa-solid ${p.icon}"></i>
${p.name}<b>${p.roll||"-"}</b>
</div>`;
});
}

function rollDice(){
if(roundFinished) return;
const dice=document.getElementById("diceBox");
dice.style.transform="rotate(720deg)";
setTimeout(()=>{
dice.style.transform="rotate(0deg)";
dicePlayers[turn].roll=Math.floor(Math.random()*6)+1;
turn++;
renderPlayers();
if(turn===dicePlayers.length) endRound();
},600);
}

function endRound(){
roundFinished=true;
let win=0;
dicePlayers.forEach((p,i)=>{if(p.roll>dicePlayers[win].roll) win=i;});
points+=20;
updatePoints();
saveLeaderboard();
renderPlayers(win);
document.getElementById("diceResult").innerText="üèÜ ÿßŸÑŸÅÿßÿ¶ÿ≤: "+dicePlayers[win].name;
document.getElementById("rollBtn").style.display="none";
document.getElementById("newRoundBtn").style.display="inline-block";
}

function newRound(){round++;initRound();}
function exitGame(){document.getElementById("gameUI").style.display="none";document.getElementById("platform").style.display="block";}

/* LEADERBOARD */
function saveLeaderboard(){
let player=leaderboard.find(p=>p.name===username);
if(!player){leaderboard.push({name:username,points:points});}
else{player.points=points;}
leaderboard.sort((a,b)=>b.points-a.points);
localStorage.setItem("leaderboard",JSON.stringify(leaderboard));
}

function openLeaderboard(){
document.getElementById("platform").style.display="none";
document.getElementById("leaderboardUI").style.display="block";
renderLeaderboard();
}

function closeLeaderboard(){
document.getElementById("leaderboardUI").style.display="none";
document.getElementById("platform").style.display="block";
}

function renderLeaderboard(){
const box=document.getElementById("leaderboardList");
box.innerHTML="";
leaderboard.forEach((p,i)=>{
box.innerHTML+=`<div><span>#${i+1} ${p.name}</span><b>${p.points} ‚≠ê</b></div>`;
});
}

/* UTIL */
function updatePoints(){document.getElementById("points").innerText=points;}
function toast(m){const t=document.getElementById("toast");t.innerText=m;t.style.display="block";setTimeout(()=>t.style.display="none",2200);}
</script>

</body>
</html>
