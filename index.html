<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PiGamesHub | Ultimate Artistic Edition</title>
    <style>
        :root {
            --primary-purple: #6741d9;
            --pi-gold: #ffd700;
            --dark-bg: #05010a;
            --semi-dark: #1a0b35;
            --glass-card: rgba(255, 255, 255, 0.04);
            --border-light: rgba(255, 255, 255, 0.1);
            --shadow-glow: 0 0 20px rgba(103, 65, 217, 0.4);
            --table-green: #0a3d1d;
        }

        body, html {
            margin: 0; padding: 0;
            background: var(--dark-bg);
            color: white; font-family: 'Segoe UI', sans-serif;
            height: 100vh; overflow: hidden;
            display: flex; flex-direction: column;
        }

        /* Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„ÙÙ†ÙŠØ© Ø§Ù„Ù…Ø¯Ù…Ø¬Ø© */
        .background-art {
            position: fixed; inset: 0;
            background: radial-gradient(circle at center, var(--semi-dark) 0%, var(--dark-bg) 100%);
            z-index: -2;
            overflow: hidden;
        }
        .chess-king {
            position: absolute; width: 400px; opacity: 0.2; filter: blur(5px);
            bottom: -50px; left: -100px; z-index: -1;
            transform: rotate(-10deg);
            background: url('chess_king_gold.png') no-repeat center center / contain;
            height: 500px;
        }
        .chess-knight {
            position: absolute; width: 300px; opacity: 0.2; filter: blur(5px);
            top: -30px; right: -80px; z-index: -1;
            transform: rotate(15deg);
            background: url('chess_knight_gold.png') no-repeat center center / contain;
            height: 400px;
        }
        .dice-bg-left {
            position: absolute; width: 150px; opacity: 0.15; filter: blur(3px);
            top: 10%; left: 0%; transform: rotate(25deg);
            background: url('dice_pink_blue.png') no-repeat center center / contain;
            height: 150px;
        }
        .dice-bg-right {
            position: absolute; width: 180px; opacity: 0.15; filter: blur(3px);
            bottom: 5%; right: 0%; transform: rotate(-30deg);
            background: url('dice_pink_blue.png') no-repeat center center / contain;
            height: 180px;
        }
        .wave-effect {
            position: absolute; width: 150%; height: 150%;
            background: radial-gradient(circle at 70% 30%, rgba(103,65,217,0.15), transparent 50%);
            animation: rotateWaves 40s linear infinite; z-index: -1;
        }
        @keyframes rotateWaves { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© */
        header {
            padding: 15px 20px; display: flex; justify-content: space-between; align-items: center;
            background: rgba(0,0,0,0.4); backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-light);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            position: relative; z-index: 10;
        }
        .pi-brand-logo {
            color: var(--pi-gold); font-weight: 900; font-size: 1.6rem;
            text-shadow: 0 0 10px var(--pi-gold);
        }
        .pi-auth-btn {
            background: linear-gradient(45deg, var(--primary-purple), #512da8);
            border: 2px solid var(--pi-gold); color: white;
            padding: 10px 22px; border-radius: 30px; cursor: pointer;
            font-weight: bold; font-size: 1rem;
            box-shadow: 0 0 15px var(--primary-purple);
            animation: btn-glow 2s infinite alternate;
        }
        @keyframes btn-glow {
            0% { box-shadow: 0 0 8px var(--primary-purple); }
            100% { box-shadow: 0 0 20px var(--pi-gold); }
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„ØµÙˆØ±Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©) */
        .hub-container {
            flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px;
        }
        .hub-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 18px;
            max-width: 420px; width: 100%;
            padding: 25px; background: var(--glass-card); border-radius: 30px;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-glow);
            margin-top: 20px;
        }
        .game-card {
            background: rgba(255,255,255,0.08); border-radius: 20px; padding: 18px;
            text-align: center; border: 1px solid rgba(255,255,255,0.15); cursor: pointer;
            transition: 0.3s ease-in-out;
        }
        .game-card:hover {
            border-color: var(--pi-gold); transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.5);
        }
        .game-card img { width: 65px; height: 65px; object-fit: contain; margin-bottom: 10px; }
        .game-card div { font-size: 0.95rem; font-weight: 600; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù„ÙˆØ¨ÙŠ */
        #lobby-screen {
            display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            z-index: 1000; flex-direction: column; align-items: center; justify-content: center;
            backdrop-filter: blur(8px);
        }
        .lobby-title { color: var(--pi-gold); font-size: 1.8rem; margin-bottom: 30px; }
        .lobby-option {
            width: 300px; padding: 18px; margin: 12px; background: var(--glass-card);
            border: 1px solid var(--primary-purple); border-radius: 20px; color: white;
            cursor: pointer; font-size: 1.1rem; text-align: center; transition: 0.3s;
        }
        .lobby-option:hover { background: var(--primary-purple); transform: scale(1.03); }
        .back-button {
            position: absolute; top: 25px; right: 25px; color: var(--pi-gold);
            background: none; border: 1px solid var(--pi-gold); padding: 8px 18px;
            border-radius: 15px; cursor: pointer; font-size: 0.9rem;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨ (Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ) */
        #domino-game-view {
            display: none; position: fixed; inset: 0; background: radial-gradient(circle, var(--table-green) 0%, #051a0d 100%);
            z-index: 500; flex-direction: column;
        }
        .game-header {
            padding: 10px 15px; background: rgba(0,0,0,0.6); display: flex;
            justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-light);
        }
        .exit-btn {
            background: #c0392b; color: white; border: none; padding: 6px 15px;
            border-radius: 8px; cursor: pointer; font-size: 0.85rem;
        }
        .turn-status { color: var(--pi-gold); font-weight: bold; font-size: 1.1rem; }

        .game-board-area {
            flex-grow: 1; display: flex; align-items: center; justify-content: center;
            padding: 15px; overflow: hidden;
        }
        #domino-snake-path {
            display: flex; flex-wrap: wrap; align-items: center; justify-content: center;
            gap: 8px; max-width: 95%; max-height: 95%; overflow: auto;
            border: 2px dashed rgba(255,255,255,0.1); padding: 10px; border-radius: 10px;
        }

        /* ØªØµÙ…ÙŠÙ… Ù‚Ø·Ø¹ Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© (Ø¨Ø§Ù„Ù†Ù‚Ø§Ø·) */
        .domino-tile {
            width: 38px; height: 76px; background: linear-gradient(145deg, #ffffff, #f0f0f0);
            border: 2px solid #222; border-radius: 5px; box-shadow: 2px 2px 8px rgba(0,0,0,0.4);
            display: flex; flex-direction: column; flex-shrink: 0;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }
        .domino-tile.in-hand:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 5px 15px rgba(0,0,0,0.6); }
        .domino-half {
            flex: 1; display: grid; grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr); padding: 4px; gap: 2px;
        }
        .domino-half:first-child { border-bottom: 2px solid #333; }
        .domino-dot { background: #000; border-radius: 50%; width: 5px; height: 5px; visibility: hidden; margin: auto; }

        /* Ù…Ù†Ø·Ù‚ Ø¸Ù‡ÙˆØ± Ø§Ù„Ù†Ù‚Ø§Ø· */
        .v0 .domino-dot.d0 { visibility: hidden; } /* Zero has no dots */
        .v1 .domino-dot:nth-child(5) { visibility: visible; }
        .v2 .domino-dot:nth-child(1), .v2 .domino-dot:nth-child(9) { visibility: visible; }
        .v3 .domino-dot:nth-child(1), .v3 .domino-dot:nth-child(5), .v3 .domino-dot:nth-child(9) { visibility: visible; }
        .v4 .domino-dot:nth-child(1), .v4 .domino-dot:nth-child(3), .v4 .domino-dot:nth-child(7), .v4 .domino-dot:nth-child(9) { visibility: visible; }
        .v5 .domino-dot:nth-child(1), .v5 .domino-dot:nth-child(3), .v5 .domino-dot:nth-child(5), .v5 .domino-dot:nth-child(7), .v5 .domino-dot:nth-child(9) { visibility: visible; }
        .v6 .domino-dot:nth-child(1), .v6 .domino-dot:nth-child(3), .v6 .domino-dot:nth-child(4), .v6 .domino-dot:nth-child(6), .v6 .domino-dot:nth-child(7), .v6 .domino-dot:nth-child(9) { visibility: visible; }

        /* Ù…Ù†Ø·Ù‚Ø© ÙŠØ¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ */
        #player-hand-area {
            height: 120px; background: rgba(0,0,0,0.8); display: flex;
            justify-content: center; align-items: center; gap: 10px;
            padding: 0 10px; border-top: 2px solid var(--pi-gold); overflow-x: auto;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.4);
        }
        .domino-in-hand {
            transform: rotate(0deg); /* Ù‚Ø·Ø¹ Ø§Ù„ÙŠØ¯ Ø±Ø£Ø³ÙŠØ© */
            cursor: pointer;
        }
        .domino-on-board-horizontal {
            transform: rotate(90deg); /* Ù‚Ø·Ø¹ Ø§Ù„Ù„ÙˆØ­Ø© Ø£ÙÙ‚ÙŠØ© */
        }
        .domino-on-board-vertical {
            transform: rotate(0deg); /* Ø§Ù„Ø¯ÙˆØ´ Ø±Ø£Ø³ÙŠ */
        }

    </style>
</head>
<body>

    <div class="background-art">
        <div class="wave-effect"></div>
    </div>

    <div id="main-interface">
        <header>
            <div class="pi-brand-logo">PiGamesHub</div>
            <button class="pi-auth-btn">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ $\pi$</button>
        </header>

        <div class="hub-container">
            <div class="hub-grid">
                <div class="game-card" onclick="openLobby()">
                    <img src="domino.png.png" alt="Ø¯ÙˆÙ…ÙŠÙ†Ùˆ">
                    <div>Ø¯ÙˆÙ…ÙŠÙ†Ùˆ</div>
                </div>
                <div class="game-card">
                    <img src="chess.png.png" alt="Ø´Ø·Ø±Ù†Ø¬">
                    <div>Ø´Ø·Ø±Ù†Ø¬</div>
                </div>
                <div class="game-card">
                    <img src="ludo.png.png" alt="Ù„ÙˆØ¯Ùˆ">
                    <div>Ù„ÙˆØ¯Ùˆ</div>
                </div>
                <div class="game-card">
                    <img src="cards.png.png" alt="ÙƒÙˆØªØ´ÙŠÙ†Ø©">
                    <div>ÙƒÙˆØªØ´ÙŠÙ†Ø©</div>
                </div>
                <div class="game-card">
                    <img src="tawla31.png.png" alt="Ø·Ø§ÙˆÙ„Ø© 31">
                    <div>Ø·Ø§ÙˆÙ„Ø© 31</div>
                </div>
                <div class="game-card">
                    <img src="nerd.png.png" alt="Ø§Ù„Ù†Ø±Ø¯">
                    <div>Ø§Ù„Ù†Ø±Ø¯</div>
                </div>
            </div>
        </div>
    </div>

    <div id="lobby-screen">
        <button class="back-button" onclick="closeLobby()">ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        <h2 class="lobby-title">Ø§Ø®ØªØ± Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ</h2>
        <button class="lobby-option" onclick="startDominoGame()">Ø¯ÙˆÙ…ÙŠÙ†Ùˆ Ø¹Ø§Ø¯ÙŠØ© (101 Ù†Ù‚Ø·Ø©)</button>
        <button class="lobby-option">Ø¯ÙˆÙ…ÙŠÙ†Ùˆ Ø£Ù…Ø±ÙŠÙƒØ§Ù†ÙŠ</button>
        <button class="lobby-option">Ø¯ÙˆÙ…ÙŠÙ†Ùˆ Ø³Ø±ÙŠØ¹ (Ø¯ÙˆØ± ÙˆØ§Ø­Ø¯)</button>
    </div>

    <div id="domino-game-view">
        <div class="game-header">
            <button class="exit-btn" onclick="location.reload()">Ø®Ø±ÙˆØ¬</button>
            <span id="turn-display" class="turn-status">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span>
        </div>
        <div class="game-board-area">
            <div id="domino-snake-path"></div>
        </div>
        <div id="player-hand-area"></div>
    </div>

    <script>
        // Pi SDK Integration (Dummy for now)
        function loginPiNetwork() {
            
