<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PiGameHub â€“ Domino 1v1 Full</title>
<style>
body { margin:0; font-family:Arial,sans-serif; background:#111; color:#fff; }
.screen { display:none; text-align:center; padding:20px; }
input, button { padding:10px; margin:10px; font-size:16px; cursor:pointer; }

/* Avatar Selection */
#avatar-container { display:flex; justify-content:center; gap:20px; margin-top:20px; flex-wrap:wrap; }
.avatar-card {
  width:100px; height:100px; font-size:50px; line-height:100px;
  background:#444; color:#fff; border-radius:12px; cursor:pointer; transition: transform 0.3s, border 0.3s;
  display:flex; justify-content:center; align-items:center;
}
.avatar-card:hover { transform:scale(1.2); }
.avatar-card.selected { border:4px solid yellow; transform:scale(1.3); }

/* Table */
.table {
  width:100vw; height:100vh; background:radial-gradient(circle at center,#1f8f6f,#0f5a45);
  position:relative; overflow:hidden; box-shadow: inset 0 0 80px rgba(0,0,0,0.7);
}

/* Players */
.player { position:absolute; color:#fff; text-align:center; font-size:14px; }
.player img { width:55px; height:55px; border-radius:50%; border:3px solid gold; box-shadow:0 4px 8px rgba(0,0,0,0.5); transition: transform 0.2s; }
.player img:hover { transform:scale(1.1); }
.top{top:15px; left:50%; transform:translateX(-50%);}
.bottom{bottom:15px; left:50%; transform:translateX(-50%);}
.left{left:15px; top:50%; transform:translateY(-50%);}
.right{right:15px; top:50%; transform:translateY(-50%);}

/* Board */
.board { position:absolute; top:50%; left:50%; transform:translate(-50%, -50%);
  display:flex; gap:10px; padding:15px; background:rgba(0,0,0,0.2); border-radius:15px;
  box-shadow:0 0 25px rgba(0,0,0,0.5); flex-wrap:wrap; justify-content:center; }

/* Domino */
.domino {
  width:50px; height:100px; background:linear-gradient(145deg,#fff,#ddd); border-radius:8px; border:2px solid #ccc;
  display:flex; flex-direction:column; justify-content:space-around; align-items:center;
  box-shadow:0 4px 6px rgba(0,0,0,0.4); transition: transform 0.5s, top 0.5s, left 0.5s, rotate 0.5s; cursor:pointer; position:absolute;
}
.dot { width:12px; height:12px; background:#000; border-radius:50%; }

/* PASS + Coins */
.pass { position:absolute; background:linear-gradient(145deg,#fff,#eee); color:#000; padding:8px 20px; border-radius:25px;
  font-weight:bold; top:35%; left:52%; box-shadow:0 4px 10px rgba(0,0,0,0.5); transform:translate(-50%,-50%);}
.coins { position:absolute; top:10px; right:20px; background:gold; color:#111; font-weight:bold; padding:6px 14px;
  border-radius:12px; box-shadow:0 3px 6px rgba(0,0,0,0.5); font-size:16px;}
</style>
</head>
<body>

<!-- Login -->
<div id="login-screen" class="screen">
  <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
  <input type="email" id="email" placeholder="Email"><br>
  <input type="text" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„"><br>
  <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Avatar -->
<div id="avatar-screen" class="screen">
  <h2>Ø§Ø®ØªØ± Ø´Ø®ØµÙŠØªÙƒ</h2>
  <div id="avatar-container"></div>
  <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<!-- Game -->
<div id="game-screen" class="screen">
  <div class="table">
    <div class="player top"><img src="https://i.pravatar.cc/100?img=12"><div>Player 1</div></div>
    <div class="player bottom"><img src="https://i.pravatar.cc/100?img=5"><div id="player-name">You</div></div>
    <div class="pass">PASS</div>
    <div class="coins" id="coins">100 ğŸ’°</div>
    <div class="board" id="board"></div>
  </div>
</div>

<script>
let selectedAvatar = null;
let playerCoins = 100;
let turn = 'player';
let dominos = [];
let board = document.getElementById('board');

// Login
function login(){
  const email = document.getElementById("email").value.trim();
  const phone = document.getElementById("phone").value.trim();
  if(email || phone){
    document.getElementById("login-screen").style.display="none";
    document.getElementById("avatar-screen").style.display="block";
    setupAvatars();
  }else alert("Ø§Ø¯Ø®Ù„ Ø§ÙŠÙ…ÙŠÙ„ Ø§Ùˆ Ø±Ù‚Ù… Ù…ÙˆØ¨Ø§ÙŠÙ„");
}

// Avatars
function setupAvatars(){
  const avatars = ["ğŸ™‚","ğŸ˜","ğŸ§‘","ğŸ‘½","ğŸ¦¸"];
  const container = document.getElementById("avatar-container");
  container.innerHTML = "";
  avatars.forEach(a=>{
    let card = document.createElement("div");
    card.className = "avatar-card";
    card.innerText = a;
    card.onclick = ()=>{
      document.querySelectorAll(".avatar-card").forEach(c=>c.classList.remove("selected"));
      card.classList.add("selected");
      selectedAvatar = a;
    };
    container.appendChild(card);
  });
}

// Start Game
function startGame(){
  if(!selectedAvatar){ alert("Ø§Ø®ØªØ± Ø´Ø®ØµÙŠØ©"); return; }
  document.getElementById("avatar-screen").style.display="none";
  document.getElementById("game-screen").style.display="block";
  document.getElementById("player-name").innerText = selectedAvatar;
  dominos = generateDominos();
  renderDominos();
}

// Generate dominos
function generateDominos(){
  let arr = [];
  for(let i=0;i<6;i++){
    arr.push([Math.floor(Math.random()*6)+1, Math.floor(Math.random()*6)+1]);
  }
  return arr;
}

// Render dominos
function renderDominos(){
  board.innerHTML = "";
  const centerX = window.innerWidth/2 - 25;
  const centerY = window.innerHeight/2 - 50;
  dominos.forEach((d,i)=>{
    let div = document.createElement('div');
    div.className = 'domino';
    div.style.top = (centerY + Math.random()*100 -50) + 'px';
    div.style.left = (centerX + Math.random()*100 -50) + 'px';
    div.style.transform = 'rotate(' + (Math.random()*360) + 'deg)';
    d.forEach(()=>{ let dot = document.createElement('div'); dot.className='dot'; div.appendChild(dot); });
    div.addEventListener('click', ()=> playDomino(i,div));
    board.appendChild(div);
  });
}

// Play domino
function playDomino(index,div){
  if(turn!=='player') return;
  const centerX = window.innerWidth/2 - 25;
  const centerY = window.innerHeight/2 - 50;
  div.style.top = centerY + 'px';
  div.style.left = centerX + 'px';
  div.style.transform = 'rotate(0deg) scale(1.2)';
  dominos.splice(index,1);
  updateCoins(-10);
  turn='ai';
  setTimeout(aiTurn,800);
}

// AI Turn
function aiTurn(){
  if(dominos.length===0) return endGame();
  let div = board.children[0];
  div.style.top = (window.innerHeight/2 -50 -60) + 'px';
  div.style.left = (window.innerWidth/2 -25 +60) + 'px';
  div.style.transform = 'rotate(180deg) scale(1.2)';
  dominos.splice(0,1);
  updateCoins(5);
  turn='player';
  if(dominos.length===0) endGame();
}

// Update Coins
function updateCoins(amount){
  playerCoins += amount;
  document.getElementById('coins').innerText = playerCoins + ' ğŸ’°';
}

// End Game
function endGame(){
  let message = playerCoins>=100 ? 'ğŸ‰ Ø§Ù†Øª ÙØ²Øª!' : 'ğŸ˜¢ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!';
  alert(message);
}

document.getElementById("login-screen").style.display="block";
</script>
</body>
</html>
